<!-- article_detail.html -->
{% extends 'index.html' %}

{% block content %}
<div class="row">
    <div class="col">
        <img src="{{ article.image.url }}" class="img-fluid" alt="{{ article.title }}">
        <div class="card-img-overlay">
            <h3 class="card-title" style="color: white; text-align: center; background-color: green;">{{ article.title }}</h3>
        </div>
    </div>
    <div class="col" >{{ article.text }} </div>
</div>
<div class="container mt-5">

    <h2>Comments</h2>
    {% for comment in comments %}
    <div class="comment mb-3">
        <h5>{{ comment.name }}</h5>
        <p>{{ comment.text }}</p> 
        <p class="text-muted">{{ comment.created_on }}</p>
    </div>
    {% empty %}
    <p>No comments yet.</p>
    {% endfor %}

    <hr>

    <h2>Add a comment</h2>
    <form method="post">
        {% csrf_token %}
        {{ comment_form.as_p }}
        <button type="submit" class="btn btn-primary">Comment</button> <a href="/" class="btn btn-success">Back</a>
    </form>
</div>

<div class="container mt-5">
    <h3>Edit Article</h3>

    <hr>
        
    {% if request.user.is_authenticated %}
    <a href="{% url 'update_article' article.pk %}" class="btn btn-warning">Edit Article</a> <a href="{% url 'delete_article' article.pk %}" class="btn btn-danger">Delete</a>

    {% endif %}

<hr>
</div>
{% endblock content %}
